<form [formGroup]="bookingForm" (ngSubmit)="onSubmit()">
  <div>
    <label for="userName">Name</label>
    <input id="userName" formControlName="userName" />
    <div *ngIf="bookingForm.get('userName')?.invalid && bookingForm.get('userName')?.touched">
      Name is required.
    </div>
  </div>

  <div>
    <label for="email">Email</label>
    <input id="email" formControlName="email" />
    <div *ngIf="bookingForm.get('email')?.invalid && bookingForm.get('email')?.touched">
      Valid email is required.
    </div>
  </div>

  <div>
    <label for="mobileNumber">Mobile Number</label>
    <input id="mobileNumber" formControlName="mobileNumber" />
    <div *ngIf="bookingForm.get('mobileNumber')?.invalid && bookingForm.get('mobileNumber')?.touched">
      Valid mobile number is required.
    </div>
  </div>

  <div>
    <label for="age">Age</label>
    <input id="age" formControlName="age" type="number" />
    <div *ngIf="bookingForm.get('age')?.invalid && bookingForm.get('age')?.touched">
      Age is required and must be a positive number.
    </div>
  </div>

  <div>
    <label for="fromStation">From Station</label>
    <input id="fromStation" formControlName="fromStation" />
  </div>

  <div>
    <label for="toStation">To Station</label>
    <input id="toStation" formControlName="toStation" />
  </div>

  <div>
    <label for="seatNumber">Seat Number</label>
    <input id="seatNumber" formControlName="seatNumber" type="number" />
  </div>

  <div>
    <label for="fare">Fare</label>
    <input id="fare" formControlName="fare" type="number" />
  </div>

  <div>
    <label>Payment Type</label>
    <select formControlName="paymentType">
      <option *ngFor="let type of paymentTypes" [value]="type">{{ type }}</option>
    </select>
  </div>

  <div formGroupName="paymentDetails">
    <div *ngIf="bookingForm.get('paymentType')?.value === 'card'">
      <label for="cardNumber">Card Number</label>
      <input id="cardNumber" formControlName="cardNumber" />
      <div *ngIf="bookingForm.get('paymentDetails.cardNumber')?.invalid && bookingForm.get('paymentDetails.cardNumber')?.touched">
        Card number is required.
      </div>
    </div>

    <div *ngIf="bookingForm.get('paymentType')?.value === 'upi'">
      <label for="upiId">UPI ID</label>
      <input id="upiId" formControlName="upiId" />
      <div *ngIf="bookingForm.get('paymentDetails.upiId')?.invalid && bookingForm.get('paymentDetails.upiId')?.touched">
        UPI ID is required.
      </div>
    </div>
  </div>

  <button type="submit">Book Now</button>
</form>
